
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DashSaver</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #000;
            color: #fff;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
            background-size: cover;
            background-position: center;
            transition: background-image 1.5s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        #background-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.9));
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.5s ease;
        }
        
        /* é¡¶éƒ¨æ§åˆ¶æŒ‰é’® */
        .controls {
            display: flex;
            justify-content: flex-end;
            padding: 20px;
            position: absolute;
            top: 0;
            right: 0;
            z-index: 100;
        }
        
        .btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-left: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .btn i {
            font-size: 18px;
        }
        
        /* ä¸­å¤®åŒºåŸŸ - æ—¶é—´å’Œéšæœºæ–‡æœ¬ */
        .center-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            width: 100%;
            margin-top: 5vh;
        }
        
        .time-display {
            font-size: 8vw;
            font-weight: 300;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            margin-bottom: 10px;
            transition: all 0.5s ease;
        }
        
        .date-display {
            font-size: 2.5vw;
            font-weight: 300;
            opacity: 0.8;
            margin-bottom: 30px;
            transition: all 0.5s ease;
        }
        
        .random-text-container {
            max-width: 90%;
            margin: 0 auto;
            text-align: center;
            min-height: 80px;
            display: flex;
            justify-content: center;
            width: 100%;
            margin-bottom: 30px;
        }
        
        .random-text {
            font-size: 1.8rem;
            font-weight: 300;
            opacity: 0.9;
            transition: all 0.5s ease;
            max-width: 95%;
            word-wrap: break-word;
            line-height: 1.5;
            padding: 15px 25px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .content-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-height: 50vh;
            overflow-y: auto;
            transition: all 0.5s ease;
            padding: 20px 0;
            opacity: 1;
            transform: translateY(0);
            margin-top: 5vh;
        }
        
        .content-container.hidden {
            opacity: 0;
            transform: translateY(20px);
            max-height: 0;
            padding: 0;
            overflow: hidden;
            margin-top: 0;
        }
        
        .search-container {
            max-width: 600px;
            width: 100%;
            margin: 0 auto 40px;
            position: relative;
            transition: all 0.5s ease;
        }
        
        .search-box {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .search-box:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }
        
        .quick-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            max-height: 35vh;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255,255,255,0.2) transparent;
            transition: all 0.5s ease;
        }
        
        .quick-links::-webkit-scrollbar {
            width: 8px;
        }
        
        .quick-links::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
        }
        
        .link-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            flex: 0 0 calc(20% - 20px);
            min-width: 100px;
            max-width: 120px;
        }
        
        .link-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .link-item .icon-container {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .link-item .icon-container i {
            font-size: 24px;
        }
        
        .link-item .icon-container img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 50%;
        }
        
        .link-item span {
            font-size: 0.9rem;
        }
        
        .delete-link {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: rgba(255, 0, 0, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
        }
        
        .link-item:hover .delete-link {
            opacity: 1;
        }
        
        .edit-link {
            position: absolute;
            top: -5px;
            left: -5px;
            width: 20px;
            height: 20px;
            background: rgba(0, 123, 255, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
        }
        
        .link-item:hover .edit-link {
            opacity: 1;
        }
        
        /* è®¾ç½®é¢æ¿ */
        .settings-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 380px;
            height: 100vh;
            background: rgba(30, 30, 40, 0.95);
            backdrop-filter: blur(20px);
            padding: 30px;
            z-index: 200;
            overflow-y: auto;
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.5);
        }
        
        .settings-panel.open {
            right: 0;
        }
        
        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .settings-header h2 {
            font-weight: 400;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .settings-group {
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .settings-group h3 {
            font-weight: 400;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .settings-group h3 i {
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        .color-picker {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .color-option.active {
            border-color: white;
            transform: scale(1.1);
        }
        
        .font-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .font-option {
            padding: 8px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .font-option.active {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .animation-selector {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .animation-option {
            padding: 12px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .animation-option.active {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .slider-container {
            margin: 15px 0;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.95rem;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .form-control:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .btn-primary {
            background: #4a6cf7;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 500;
        }
        
        .btn-primary:hover {
            background: #3a5ce0;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-sm {
            padding: 8px 12px;
            font-size: 0.85rem;
        }
        
        .btn-danger {
            background: #ff4757;
        }
        
        .btn-success {
            background: #2ed573;
        }
        
        .custom-items-list {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .custom-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            margin-bottom: 8px;
        }
        
        .custom-item:last-child {
            margin-bottom: 0;
        }
        
        .custom-item .actions {
            display: flex;
            gap: 5px;
        }
        
        .btn-icon {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-icon:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .fade-in {
            animation: fadeIn 1.5s ease-in-out forwards;
        }
        
        .slide-up {
            animation: slideUp 1s ease-out forwards;
        }
        
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            animation: 
                typewriter 4s steps(40, end),
                blink-caret 0.75s step-end infinite;
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #fff; }
        }
        
        .fade-out {
            animation: fadeIn 1.5s ease-in-out reverse forwards;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .time-display {
                font-size: 12vw;
            }
            
            .date-display {
                font-size: 4vw;
            }
            
            .random-text {
                font-size: 1.4rem;
            }
            
            .settings-panel {
                width: 100%;
                right: -100%;
            }
            
            .quick-links {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .link-item {
                flex: 0 0 calc(33% - 20px);
            }
        }
        
        /* çŠ¶æ€æç¤º */
        .status-message {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            z-index: 1000;
            animation: fadeIn 0.5s ease-in-out;
            display: none;
        }
        
        /* èƒŒæ™¯åŠ è½½æŒ‡ç¤ºå™¨ */
        .bg-loader {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            z-index: 1000;
            display: none;
        }
        
        /* ç¼–è¾‘æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 300;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: rgba(40, 40, 50, 0.95);
            border-radius: 15px;
            padding: 25px;
            width: 90%;
            max-width: 500px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-title {
            font-size: 1.3rem;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .scroll-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.2rem;
            animation: bounce 2s infinite;
            opacity: 0.7;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);}
            40% {transform: translateX(-50%) translateY(-15px);}
            60% {transform: translateX(-50%) translateY(-7px);}
        }
        
        /* æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® */
        .visibility-control {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 15px;
        }
        
        .visibility-control:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .toggle-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 20px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            position: relative;
            cursor: pointer;
        }
        
        .toggle-btn.active {
            background: #4a6cf7;
        }
        
        .toggle-btn::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            transition: all 0.3s ease;
            left: 2px;
        }
        
        .toggle-btn.active::before {
            left: calc(100% - 18px);
        }
    </style>
</head>
<body>
    <div id="background-overlay"></div>
    
    <div class="bg-loader" id="bg-loader">
        <i class="fas fa-sync fa-spin"></i> æ­£åœ¨åŠ è½½èƒŒæ™¯...
    </div>
    
    <div class="status-message" id="status-message"></div>
    
    <div class="container">
        <div class="controls">
            <button class="btn" id="fullscreen-btn" title="å…¨å±">
                <i class="fas fa-expand"></i>
            </button>
            <button class="btn" id="settings-btn" title="è®¾ç½®">
                <i class="fas fa-cog"></i>
            </button>
        </div>
        
        <div class="center-container">
            <div class="time-display" id="time">00:00:00</div>
            <div class="date-display" id="date">2025å¹´1æœˆ1æ—¥ æ˜ŸæœŸä¸€</div>
            
            <div class="random-text-container">
                <div class="random-text" id="random-text">Just Do It.</div>
            </div>
        </div>
        
        <div class="scroll-hint" id="scroll-hint">
            <i class="fas fa-chevron-down"></i>
        </div>
        
        <div class="content-container" id="content-container">
            <div class="search-container" id="search-container">
                <input type="text" class="search-box" placeholder="æœç´¢äº’è”ç½‘..." id="search-input">
            </div>
            
            <div class="quick-links" id="quick-links">
            </div>
        </div>
    </div>
    
    <!-- è®¾ç½®é¢æ¿ -->
    <div class="settings-panel" id="settings-panel">
        <div class="settings-header">
            <h2>ä»ªè¡¨ç›˜è®¾ç½®</h2>
            <button class="close-btn" id="close-settings">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-clock"></i> æ—¶é—´æ˜¾ç¤ºè®¾ç½®</h3>
            
            <div class="color-picker">
                <div class="color-option active" style="background: #ffffff;" data-color="#ffffff"></div>
                <div class="color-option" style="background: #ff6b6b;" data-color="#ff6b6b"></div>
                <div class="color-option" style="background: #4ecdc4;" data-color="#4ecdc4"></div>
                <div class="color-option" style="background: #ffe66d;" data-color="#ffe66d"></div>
                <div class="color-option" style="background: #ff9f68;" data-color="#ff9f68"></div>
                <div class="color-option" style="background: #9b5de5;" data-color="#9b5de5"></div>
                <div class="color-option" style="background: #00bbf9;" data-color="#00bbf9"></div>
                <div class="color-option" style="background: #00f5d4;" data-color="#00f5d4"></div>
            </div>
            
            <div class="font-selector">
                <div class="font-option active" data-font="Segoe UI">é»˜è®¤</div>
                <div class="font-option" data-font="Arial">Arial</div>
                <div class="font-option" data-font="Georgia">Georgia</div>
                <div class="font-option" data-font="Courier New">Courier</div>
                <div class="font-option" data-font="Impact">Impact</div>
                <div class="font-option" data-font="Times New Roman">Times</div>
                <div class="font-option" data-font="Verdana">Verdana</div>
                <div class="font-option" data-font="Comic Sans MS">Comic</div>
            </div>
            
            <div class="slider-container">
                <label for="time-size">æ—¶é—´å­—ä½“å¤§å°: <span id="time-size-value">8vw</span></label>
                <input type="range" id="time-size" min="5" max="15" value="8" step="0.5">
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-font"></i> æ–‡å­—åŠ¨ç”»æ•ˆæœ</h3>
            
            <div class="animation-selector">
                <div class="animation-option active" data-animation="fadeIn">æ·¡å…¥æ•ˆæœ</div>
                <div class="animation-option" data-animation="slideUp">ä¸Šæµ®æ•ˆæœ</div>
                <div class="animation-option" data-animation="typewriter">æ‰“å­—æœºæ•ˆæœ</div>
                <div class="animation-option" data-animation="fade-out">æ·¡å‡ºæ•ˆæœ</div>
            </div>
            
            <div class="slider-container">
                <label for="text-change">æ–‡å­—åˆ‡æ¢é—´éš”: <span id="text-change-value">10</span> ç§’</label>
                <input type="range" id="text-change" min="5" max="30" value="10">
            </div>
            
            <!-- éšæœºæ–‡æœ¬æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® -->
            <div class="visibility-control">
                <span>æ˜¾ç¤ºéšæœºæ–‡æœ¬</span>
                <div class="toggle-btn active" id="toggle-text-btn">
                    <span class="toggle-switch"></span>
                </div>
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-search"></i> æœç´¢å¼•æ“è®¾ç½®</h3>
            
            <div class="animation-selector" id="search-engine-selector">
                <!-- æœç´¢å¼•æ“é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- æœç´¢æ æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® -->
            <div class="visibility-control">
                <span>æ˜¾ç¤ºæœç´¢æ </span>
                <div class="toggle-btn active" id="toggle-search-btn">
                    <span class="toggle-switch"></span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="new-engine-name">æ·»åŠ è‡ªå®šä¹‰æœç´¢å¼•æ“</label>
                <input type="text" class="form-control" id="new-engine-name" placeholder="æœç´¢å¼•æ“åç§°">
            </div>
            
            <div class="form-group">
                <input type="text" class="form-control" id="new-engine-url" placeholder="æœç´¢URL (ä½¿ç”¨{query}ä½œä¸ºæœç´¢è¯)">
            </div>
            
            <button class="btn-primary" id="add-engine-btn">
                <i class="fas fa-plus"></i> æ·»åŠ æœç´¢å¼•æ“
            </button>
            
            <div class="custom-items-list" id="custom-engines-list">
                <!-- è‡ªå®šä¹‰æœç´¢å¼•æ“åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-link"></i> å¿«æ·é“¾æ¥è®¾ç½®</h3>
            
            <!-- å¿«æ·é“¾æ¥æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® -->
            <div class="visibility-control">
                <span>æ˜¾ç¤ºå¿«æ·é“¾æ¥</span>
                <div class="toggle-btn active" id="toggle-links-btn">
                    <span class="toggle-switch"></span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="new-link-name">é“¾æ¥åç§°</label>
                <input type="text" class="form-control" id="new-link-name" placeholder="ä¾‹å¦‚: GitHub">
            </div>
            
            <div class="form-group">
                <label for="new-link-url">é“¾æ¥åœ°å€</label>
                <input type="text" class="form-control" id="new-link-url" placeholder="https://example.com">
            </div>
            
            <div class="form-group">
                <label for="new-link-icon">å›¾æ ‡ (Font Awesomeç±»åæˆ–å›¾ç‰‡URL)</label>
                <input type="text" class="form-control" id="new-link-icon" placeholder="ä¾‹å¦‚: fab fa-github æˆ– https://example.com/icon.png">
            </div>
            
            <button class="btn-primary" id="add-link-btn">
                <i class="fas fa-plus"></i> æ·»åŠ å¿«æ·é“¾æ¥
            </button>
            
            <div class="custom-items-list" id="custom-links-list">
                <!-- è‡ªå®šä¹‰é“¾æ¥åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-quote-right"></i> éšæœºæ–‡æœ¬è®¾ç½®</h3>
            
            <div class="form-group">
                <label for="new-quote-text">æ·»åŠ è‡ªå®šä¹‰æ–‡æœ¬</label>
                <textarea class="form-control" id="new-quote-text" placeholder="è¾“å…¥æ‚¨å–œæ¬¢çš„åè¨€æˆ–å¥å­..." rows="3"></textarea>
            </div>
            
            <button class="btn-primary" id="add-quote-btn">
                <i class="fas fa-plus"></i> æ·»åŠ æ–‡æœ¬
            </button>
            
            <div class="custom-items-list" id="custom-quotes-list">
                <!-- è‡ªå®šä¹‰æ–‡æœ¬åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-image"></i> èƒŒæ™¯è®¾ç½®</h3>
            
            <div class="form-group">
                <label for="bg-api">èƒŒæ™¯å›¾ç‰‡API</label>
                <input type="text" class="form-control" id="bg-api" value="https://source.unsplash.com/random/1920x1080/?nature" placeholder="è¾“å…¥èƒŒæ™¯å›¾ç‰‡API">
            </div>
            
            <div class="slider-container">
                <label for="bg-change">èƒŒæ™¯åˆ‡æ¢é—´éš”: <span id="bg-change-value">30</span> ç§’</label>
                <input type="range" id="bg-change" min="10" max="120" value="30">
            </div>
            
            <div class="btn-group">
                <button class="btn-primary btn-sm" id="update-bg-btn">
                    <i class="fas fa-sync"></i> æ›´æ–°èƒŒæ™¯
                </button>
                <button class="btn-primary btn-sm btn-success" id="bg-toggle-btn">
                    <i class="fas fa-play"></i> åˆ‡æ¢èƒŒæ™¯
                </button>
                <button class="btn-primary btn-sm btn-danger" id="stop-bg-btn">
                    <i class="fas fa-stop"></i> åœæ­¢åˆ‡æ¢
                </button>
            </div>
        </div>
        <footer style="margin-top: 20px; font-size: 0.8rem; color: #666; text-align: center;"> &copy; <script>document.write(new Date().getFullYear())</script> FastNow Studio | MIT-Clause</footer>
    </div>
    
    <!-- è¿™å•¥ï¼Ÿ -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="edit-modal-title">ç¼–è¾‘é¡¹ç›®</h3>
                <button class="modal-close" id="close-edit-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="edit-form-container">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="save-edit-btn">ä¿å­˜æ›´æ”¹</button>
                <button class="btn-primary btn-danger" id="cancel-edit-btn">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <script>
        // è·å–DOMå…ƒç´ 
        const timeElement = document.getElementById('time');
        const dateElement = document.getElementById('date');
        const randomTextElement = document.getElementById('random-text');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        const closeSettingsBtn = document.getElementById('close-settings');
        const searchInput = document.getElementById('search-input');
        const quickLinksContainer = document.getElementById('quick-links');
        const statusMessage = document.getElementById('status-message');
        const bgLoader = document.getElementById('bg-loader');
        const toggleTextBtn = document.getElementById('toggle-text-btn');
        const toggleSearchBtn = document.getElementById('toggle-search-btn');
        const toggleLinksBtn = document.getElementById('toggle-links-btn');
        const editModal = document.getElementById('edit-modal');
        const closeEditModal = document.getElementById('close-edit-modal');
        const cancelEditBtn = document.getElementById('cancel-edit-btn');
        const saveEditBtn = document.getElementById('save-edit-btn');
        const editFormContainer = document.getElementById('edit-form-container');
        const contentContainer = document.getElementById('content-container');
        const scrollHint = document.getElementById('scroll-hint');
        const searchContainer = document.getElementById('search-container');
        
        // çŠ¶æ€å˜é‡
        let bgInterval;
        let bgSwitching = true;
        let textInterval;
        let textVisible = true;
        let searchVisible = true;
        let linksVisible = true;
        let currentEditItem = null;
        let currentEditType = null;
        let currentEditIndex = null;
        let scrollPosition = 0;
        
        // åˆå§‹åŒ–
        let quotes = [
            {id: 1, text: "ç”Ÿæ´»å°±åƒéª‘è‡ªè¡Œè½¦ï¼Œä¸ºäº†ä¿æŒå¹³è¡¡ï¼Œä½ å¿…é¡»ä¸æ–­å‰è¿›"},
            {id: 2, text: "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼Œçæƒœå½“ä¸‹"},
            {id: 3, text: "æˆåŠŸä¸æ˜¯ç»ˆç‚¹ï¼Œå¤±è´¥ä¸æ˜¯ç»ˆç»“ï¼Œå‹‡æ°”æ‰æ˜¯æ°¸æ’"},
            {id: 4, text: "æ¢¦æƒ³ä¸ä¼šå‘å…‰ï¼Œå‘å…‰çš„æ˜¯è¿½æ¢¦çš„äºº"},
            {id: 5, text: "æœ€å¥½çš„æ—¶å…‰å°±æ˜¯ç°åœ¨"},
            {id: 6, text: "ç®€å•çš„äº‹æƒ…é‡å¤åšï¼Œä½ å°±æ˜¯ä¸“å®¶ï¼›é‡å¤çš„äº‹æƒ…ç”¨å¿ƒåšï¼Œä½ å°±æ˜¯èµ¢å®¶"},
            {id: 7, text: "è¡ŒåŠ¨æ˜¯æ²»æ„ˆææƒ§çš„è‰¯è¯ï¼Œè€ŒçŠ¹è±«æ‹–å»¶å°†ä¸æ–­æ»‹å…»ææƒ§"},
            {id: 8, text: "åªæœ‰ä¸æ–­è¶…è¶Šè‡ªæˆ‘ï¼Œæ‰èƒ½æˆå°±éå‡¡"},
            {id: 9, text: "ç”Ÿå‘½ä¸æ˜¯è¦è¶…è¶Šåˆ«äººï¼Œè€Œæ˜¯è¦è¶…è¶Šè‡ªå·±"},
            {id: 10, text: "ä¸è¦ç­‰å¾…æœºä¼šï¼Œè€Œè¦åˆ›é€ æœºä¼š"}
        ];
        
        let searchEngines = [
            { name: "Google", url: "https://www.google.com/search?q={query}" },
            { name: "Bing", url: "https://www.bing.com/search?q={query}" },
            { name: "DuckDuckGo", url: "https://duckduckgo.com/?q={query}" },
            { name: "ç™¾åº¦", url: "https://www.baidu.com/s?wd={query}" }
        ];
        
        let quickLinks = [
            { id: 1, name: "GitHub", url: "https://github.com", icon: "fab fa-github", type: "fa" },
            { id: 2, name: "Gmail", url: "https://gmail.com", icon: "fas fa-envelope", type: "fa" },
            { id: 3, name: "YouTube", url: "https://youtube.com", icon: "fab fa-youtube", type: "fa" },
            { id: 4, name: "Twitter", url: "https://twitter.com", icon: "fab fa-twitter", type: "fa" },
            { id: 5, name: "Reddit", url: "https://reddit.com", icon: "fab fa-reddit", type: "fa" },
            { id: 6, name: "Spotify", url: "https://spotify.com", icon: "fab fa-spotify", type: "fa" },
            { id: 7, name: "Netflix", url: "https://netflix.com", icon: "fas fa-film", type: "fa" },
            { id: 8, name: "Amazon", url: "https://amazon.com", icon: "fab fa-amazon", type: "fa" }
        ];
        
        function showStatusMessage(message, duration = 3000) {
            statusMessage.textContent = message;
            statusMessage.style.display = 'block';
            setTimeout(() => {
                statusMessage.style.display = 'none';
            }, duration);
        }
        
        // åŠ è½½æ•°æ®
        function loadData() {
            const savedQuotes = localStorage.getItem('customQuotes');
            const savedEngines = localStorage.getItem('customEngines');
            const savedLinks = localStorage.getItem('customLinks');
            const showSearch = localStorage.getItem('showSearch');
            const showLinks = localStorage.getItem('showLinks');
            const showText = localStorage.getItem('showText');
            
            if (savedQuotes) {
                const customQuotes = JSON.parse(savedQuotes);
                quotes = [...quotes, ...customQuotes];
            }
            
            if (savedEngines) {
                searchEngines = searchEngines.concat(JSON.parse(savedEngines));
            }
            
            if (savedLinks) {
                const customLinks = JSON.parse(savedLinks);
                quickLinks = [...quickLinks, ...customLinks];
            }
            
            if (showSearch !== null) {
                searchVisible = showSearch === 'true';
                toggleSearchBtn.classList.toggle('active', searchVisible);
                updateVisibility();
            }
            
            if (showLinks !== null) {
                linksVisible = showLinks === 'true';
                toggleLinksBtn.classList.toggle('active', linksVisible);
                updateVisibility();
            }
            
            if (showText !== null) {
                textVisible = showText === 'true';
                toggleTextBtn.classList.toggle('active', textVisible);
                randomTextElement.style.display = textVisible ? 'flex' : 'none';
            }
        }
        
        // ä¿å­˜æ•°æ®
        function saveData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }
        
        // æ›´æ–°
        function updateDateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            
            const days = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
            const day = days[now.getDay()];
            const date = `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ${now.getDate()}æ—¥`;
            
            timeElement.textContent = `${hours}:${minutes}:${seconds}`;
            dateElement.textContent = `${date} ${day}`;
        }
        
        // æ›´æ–°
        function updateRandomText() {
            if (!textVisible) return;
            
            const randomIndex = Math.floor(Math.random() * quotes.length);
            const newText = quotes[randomIndex].text;
            const animation = randomTextElement.dataset.animation || 'fadeIn';
            
            randomTextElement.classList.add('fade-out');
            
            setTimeout(() => {
                randomTextElement.textContent = newText;
                randomTextElement.className = 'random-text';
                
                // ç¥äººæ•ˆæœ
                if (animation === 'typewriter') {
                    randomTextElement.classList.add('typewriter');
                    setTimeout(() => {
                        randomTextElement.classList.remove('typewriter');
                    }, 4000);
                } else {
                    setTimeout(() => {
                        randomTextElement.classList.add(animation);
                    }, 50);
                }
            }, 500);
        }
        
        // å…¨å±
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.error(`å…¨å±è¯·æ±‚é”™è¯¯: ${err.message}`);
                });
                fullscreenBtn.style.display = 'none';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                fullscreenBtn.style.display = 'flex';
            }
        }
        
        // è®¾ç½®
        function toggleSettings() {
            settingsPanel.classList.toggle('open');
        }
        
        // åˆ‡æ¢èƒŒæ™¯
        function changeBackground(showNotification = false) {
            const bgApi = document.getElementById('bg-api').value || 'https://t.alcy.cc/ycy';
            
            // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
            bgLoader.style.display = 'flex';
            
            // æ·»åŠ æ—¶é—´æˆ³ğŸ‘
            const timestamp = new Date().getTime();
            const bgUrl = `${bgApi}${bgApi.includes('?') ? '&' : '?'}t=${timestamp}`;
            
            // ä½¿ç”¨CSS
            const bgImg = new Image();
            bgImg.onload = function() {
                document.body.style.backgroundImage = `url(${bgUrl})`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundPosition = 'center';
                bgLoader.style.display = 'none';
                if (showNotification) {
                    showStatusMessage('èƒŒæ™¯å·²æ›´æ–°');
                }
            };
            bgImg.onerror = function() {
                console.error('èƒŒæ™¯å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤èƒŒæ™¯');
                document.body.style.background = 'linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c)';
                bgLoader.style.display = 'none';
                if (showNotification) {
                    showStatusMessage('èƒŒæ™¯åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤èƒŒæ™¯', 5000);
                }
            };
            bgImg.src = bgUrl;
        }
        
        function updateVisibility() {
            // æœç´¢æ 
            searchContainer.style.display = searchVisible ? 'block' : 'none';
            
            // å¿«æ·é“¾æ¥
            quickLinksContainer.style.display = linksVisible ? 'flex' : 'none';
            
            // ä¸»è¦
            if (searchVisible || linksVisible) {
                contentContainer.classList.remove('hidden');
                scrollHint.style.display = 'block';
            } else {
                contentContainer.classList.add('hidden');
                scrollHint.style.display = 'none';
            }
            
            // ä¿å­˜è®¾ç½®
            localStorage.setItem('showSearch', searchVisible);
            localStorage.setItem('showLinks', linksVisible);
            localStorage.setItem('showText', textVisible);
        }
        
        // æ¸²æŸ“æœç´¢å¼•æ“é€‰æ‹©å™¨
        function renderSearchEngineSelector() {
            const container = document.getElementById('search-engine-selector');
            container.innerHTML = '';
            
            searchEngines.forEach(engine => {
                const option = document.createElement('div');
                option.className = 'animation-option';
                if (engine.default) option.classList.add('active');
                option.dataset.engine = engine.name;
                option.textContent = engine.name;
                
                option.addEventListener('click', () => {
                    document.querySelectorAll('.animation-option[data-engine]').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                });
                
                container.appendChild(option);
            });
        }
        
        // æ¸²æŸ“è‡ªå®šä¹‰æœç´¢å¼•æ“åˆ—è¡¨
        function renderCustomEnginesList() {
            const container = document.getElementById('custom-engines-list');
            container.innerHTML = '';
            
            const customEngines = searchEngines.filter(engine => !engine.default);
            
            if (customEngines.length === 0) {
                container.innerHTML = '<p class="custom-item">æš‚æ— è‡ªå®šä¹‰æœç´¢å¼•æ“</p>';
                return;
            }
            
            customEngines.forEach((engine, index) => {
                const item = document.createElement('div');
                item.className = 'custom-item';
                item.innerHTML = `
                    <span>${engine.name}</span>
                    <div class="actions">
                        <button class="btn-icon delete-engine" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-engine').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.delete-engine').dataset.index);
                    searchEngines.splice(index + 4, 1); // ä¿ç•™å‰4ä¸ªé»˜è®¤å¼•æ“
                    saveData('customEngines', searchEngines.filter(engine => !engine.default));
                    renderCustomEnginesList();
                    showStatusMessage('æœç´¢å¼•æ“å·²åˆ é™¤');
                });
            });
        }
        
        // æ¸²æŸ“å¿«æ·é“¾æ¥
        function renderQuickLinks() {
            quickLinksContainer.innerHTML = '';
            
            quickLinks.forEach((link, index) => {
                const item = document.createElement('div');
                item.className = 'link-item';
                item.dataset.url = link.url;
                item.innerHTML = `
                    <div class="icon-container">
                        ${link.type === 'fa' ? 
                            `<i class="${link.icon}"></i>` : 
                            `<img src="${link.icon}" alt="${link.name}">`}
                    </div>
                    <span>${link.name}</span>
                    <div class="delete-link" data-index="${index}">
                        <i class="fas fa-trash"></i>
                    </div>
                    <div class="edit-link" data-index="${index}">
                        <i class="fas fa-edit"></i>
                    </div>
                `;
                
                item.addEventListener('click', (e) => {
                    // ç¡®ä¿ç‚¹å‡»çš„ä¸æ˜¯åˆ é™¤æˆ–ç¼–è¾‘æŒ‰é’®
                    if (!e.target.closest('.delete-link') && !e.target.closest('.edit-link')) {
                        window.open(link.url, '_blank');
                    }
                });
                
                quickLinksContainer.appendChild(item);
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(e.target.closest('.delete-link').dataset.index);
                    quickLinks.splice(index, 1);
                    
                    // åŒºåˆ†é»˜è®¤é“¾æ¥å’Œè‡ªå®šä¹‰é“¾æ¥
                    if (index >= 8) {
                        saveData('customLinks', quickLinks.slice(8));
                    }
                    
                    renderQuickLinks();
                    renderCustomLinksList();
                    showStatusMessage('é“¾æ¥å·²åˆ é™¤');
                });
            });
            
            // æ·»åŠ ç¼–è¾‘äº‹ä»¶
            document.querySelectorAll('.edit-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(e.target.closest('.edit-link').dataset.index);
                    openEditLinkModal(index);
                });
            });
        }
        
        // æ‰“å¼€ç¼–è¾‘é“¾æ¥æ¨¡æ€æ¡†
        function openEditLinkModal(index) {
            const link = quickLinks[index];
            currentEditItem = link;
            currentEditType = 'link';
            currentEditIndex = index;
            
            editFormContainer.innerHTML = `
                <div class="form-group">
                    <label for="edit-link-name">é“¾æ¥åç§°</label>
                    <input type="text" class="form-control" id="edit-link-name" value="${link.name}">
                </div>
                <div class="form-group">
                    <label for="edit-link-url">é“¾æ¥åœ°å€</label>
                    <input type="text" class="form-control" id="edit-link-url" value="${link.url}">
                </div>
                <div class="form-group">
                    <label for="edit-link-icon">å›¾æ ‡ (Font Awesomeç±»åæˆ–å›¾ç‰‡URL)</label>
                    <input type="text" class="form-control" id="edit-link-icon" value="${link.icon}">
                </div>
            `;
            
            document.getElementById('edit-modal-title').textContent = 'ç¼–è¾‘é“¾æ¥';
            editModal.style.display = 'flex';
        }
        
        // æ‰“å¼€ç¼–è¾‘æ–‡æœ¬æ¨¡æ€æ¡†
        function openEditQuoteModal(index) {
            const quote = quotes[index];
            currentEditItem = quote;
            currentEditType = 'quote';
            currentEditIndex = index;
            
            editFormContainer.innerHTML = `
                <div class="form-group">
                    <label for="edit-quote-text">æ–‡æœ¬å†…å®¹</label>
                    <textarea class="form-control" id="edit-quote-text" rows="4">${quote.text}</textarea>
                </div>
            `;
            
            document.getElementById('edit-modal-title').textContent = 'ç¼–è¾‘æ–‡æœ¬';
            editModal.style.display = 'flex';
        }
        
        // æ¸²æŸ“è‡ªå®šä¹‰é“¾æ¥åˆ—è¡¨
        function renderCustomLinksList() {
            const container = document.getElementById('custom-links-list');
            container.innerHTML = '';
            
            const customLinks = quickLinks.slice(8);
            
            if (customLinks.length === 0) {
                container.innerHTML = '<p class="custom-item">æš‚æ— è‡ªå®šä¹‰é“¾æ¥</p>';
                return;
            }
            
            customLinks.forEach((link, index) => {
                const item = document.createElement('div');
                item.className = 'custom-item';
                item.innerHTML = `
                    <span>${link.name}</span>
                    <div class="actions">
                        <button class="btn-icon edit-custom-link" data-index="${index + 8}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon delete-custom-link" data-index="${index + 8}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
            
            // æ·»åŠ ç¼–è¾‘
            document.querySelectorAll('.edit-custom-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.edit-custom-link').dataset.index);
                    openEditLinkModal(index);
                });
            });
            
            // æ·»åŠ åˆ é™¤
            document.querySelectorAll('.delete-custom-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.delete-custom-link').dataset.index);
                    quickLinks.splice(index, 1);
                    saveData('customLinks', quickLinks.slice(8));
                    renderCustomLinksList();
                    renderQuickLinks();
                    showStatusMessage('é“¾æ¥å·²åˆ é™¤');
                });
            });
        }
    
        function renderCustomQuotesList() {
            const container = document.getElementById('custom-quotes-list');
            container.innerHTML = '';
            
            quotes.forEach((quote, index) => {
                const item = document.createElement('div');
                item.className = 'custom-item';
                item.innerHTML = `
                    <span>${quote.text.substring(0, 50)}${quote.text.length > 50 ? '...' : ''}</span>
                    <div class="actions">
                        <button class="btn-icon edit-custom-quote" data-index="${index}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon delete-custom-quote" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
            
            // æ·»åŠ ç¼–è¾‘äº‹ä»¶
            document.querySelectorAll('.edit-custom-quote').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.edit-custom-quote').dataset.index);
                    openEditQuoteModal(index);
                });
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-custom-quote').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.delete-custom-quote').dataset.index);
                    quotes.splice(index, 1);
                    saveData('customQuotes', quotes);
                    renderCustomQuotesList();
                    showStatusMessage('æ–‡æœ¬å·²åˆ é™¤');
                });
            });
        }
        
        // ä¿å­˜ç¼–è¾‘å†…å®¹
        function saveEdit() {
            if (currentEditType === 'link') {
                const name = document.getElementById('edit-link-name').value.trim();
                const url = document.getElementById('edit-link-url').value.trim();
                const icon = document.getElementById('edit-link-icon').value.trim();
                
                if (name && url && icon) {
                    // åˆ¤æ–­æ˜¯Font Awesomeè¿˜æ˜¯å›¾ç‰‡URL
                    const type = icon.startsWith('http') ? 'img' : 'fa';
                    
                    quickLinks[currentEditIndex] = { 
                        ...quickLinks[currentEditIndex], 
                        name, 
                        url, 
                        icon, 
                        type 
                    };
                    
                    // å¦‚æœæ˜¯è‡ªå®šä¹‰é“¾æ¥ï¼Œä¿å­˜åˆ°localStorage
                    if (currentEditIndex >= 8) {
                        saveData('customLinks', quickLinks.slice(8));
                    }
                    
                    renderQuickLinks();
                    renderCustomLinksList();
                    showStatusMessage('é“¾æ¥å·²æ›´æ–°');
                } else {
                    showStatusMessage('è¯·å¡«å†™å®Œæ•´çš„é“¾æ¥ä¿¡æ¯', 5000);
                }
            } 
            else if (currentEditType === 'quote') {
                const text = document.getElementById('edit-quote-text').value.trim();
                
                if (text) {
                    quotes[currentEditIndex].text = text;
                    saveData('customQuotes', quotes);
                    
                    renderCustomQuotesList();
                    showStatusMessage('æ–‡æœ¬å·²æ›´æ–°');
                    
                    // å¦‚æœå½“å‰æ˜¾ç¤ºçš„æ˜¯è¢«ç¼–è¾‘çš„æ–‡æœ¬ï¼Œæ›´æ–°æ˜¾ç¤º
                    if (randomTextElement.textContent === currentEditItem.text) {
                        updateRandomText();
                    }
                } else {
                    showStatusMessage('è¯·è¾“å…¥æ–‡æœ¬å†…å®¹', 5000);
                }
            }
            
            closeEditModalFunc();
        }
        
        // å…³é—­ç¼–è¾‘æ¨¡æ€æ¡†
        function closeEditModalFunc() {
            editModal.style.display = 'none';
            currentEditItem = null;
            currentEditType = null;
            currentEditIndex = null;
        }
        
        // åˆå§‹åŒ–è®¾ç½®
        function initSettings() {
            // åŠ è½½æ•°æ®
            loadData();
            
            // é¢œè‰²é€‰æ‹© - åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    const color = option.dataset.color;
                    
                    // åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬å…ƒç´ 
                    document.querySelectorAll('.time-display, .date-display, .random-text, .search-box, .link-item, .custom-item')
                        .forEach(el => {
                            el.style.color = color;
                        });
                });
            });
            
            // å­—ä½“é€‰æ‹© - åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬
            document.querySelectorAll('.font-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.font-option').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    const font = option.dataset.font;
                    
                    // åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬å…ƒç´ 
                    document.querySelectorAll('body').forEach(el => {
                        el.style.fontFamily = font;
                    });
                });
            });
            
            // æ—¶é—´å¤§å°è°ƒæ•´
            const timeSizeSlider = document.getElementById('time-size');
            const timeSizeValue = document.getElementById('time-size-value');
            
            timeSizeSlider.addEventListener('input', () => {
                const size = timeSizeSlider.value;
                timeSizeValue.textContent = `${size}vw`;
                timeElement.style.fontSize = `${size}vw`;
            });
            
            // åŠ¨ç”»æ•ˆæœé€‰æ‹©
            document.querySelectorAll('.animation-option').forEach(option => {
                if (option.dataset.animation) {
                    option.addEventListener('click', () => {
                        document.querySelectorAll('.animation-option').forEach(opt => opt.classList.remove('active'));
                        option.classList.add('active');
                        randomTextElement.dataset.animation = option.dataset.animation;
                    });
                }
            });
            
            // æ–‡å­—åˆ‡æ¢é—´éš”
            const textChangeSlider = document.getElementById('text-change');
            const textChangeValue = document.getElementById('text-change-value');
            
            textChangeSlider.addEventListener('input', () => {
                const seconds = textChangeSlider.value;
                textChangeValue.textContent = seconds;
                clearInterval(textInterval);
                textInterval = setInterval(updateRandomText, seconds * 1000);
                showStatusMessage(`æ–‡æœ¬åˆ‡æ¢é—´éš”å·²è®¾ä¸º ${seconds} ç§’`);
            });
            
            // èƒŒæ™¯åˆ‡æ¢é—´éš”
            const bgChangeSlider = document.getElementById('bg-change');
            const bgChangeValue = document.getElementById('bg-change-value');
            
            bgChangeSlider.addEventListener('input', () => {
                const seconds = bgChangeSlider.value;
                bgChangeValue.textContent = seconds;
                if (bgSwitching) {
                    clearInterval(bgInterval);
                    bgInterval = setInterval(() => changeBackground(false), seconds * 1000);
                    showStatusMessage(`èƒŒæ™¯åˆ‡æ¢é—´éš”å·²è®¾ä¸º ${seconds} ç§’`);
                }
            });
            
            // æ·»åŠ æœç´¢å¼•æ“
            document.getElementById('add-engine-btn').addEventListener('click', () => {
                const name = document.getElementById('new-engine-name').value.trim();
                const url = document.getElementById('new-engine-url').value.trim();
                
                if (name && url && url.includes('{query}')) {
                    searchEngines.push({ name, url, custom: true });
                    saveData('customEngines', searchEngines.filter(engine => engine.custom));
                    
                    document.getElementById('new-engine-name').value = '';
                    document.getElementById('new-engine-url').value = '';
                    
                    renderSearchEngineSelector();
                    renderCustomEnginesList();
                    showStatusMessage('æœç´¢å¼•æ“å·²æ·»åŠ ');
                } else {
                    showStatusMessage('è¯·å¡«å†™å®Œæ•´çš„æœç´¢å¼•æ“ä¿¡æ¯ï¼ŒURLå¿…é¡»åŒ…å«{query}', 5000);
                }
            });
            
            // æ·»åŠ å¿«æ·é“¾æ¥
            document.getElementById('add-link-btn').addEventListener('click', () => {
                const name = document.getElementById('new-link-name').value.trim();
                const url = document.getElementById('new-link-url').value.trim();
                const icon = document.getElementById('new-link-icon').value.trim();
                
                if (name && url && icon) {
                    // åˆ¤æ–­æ˜¯Font Awesomeè¿˜æ˜¯å›¾ç‰‡URL
                    const type = icon.startsWith('http') ? 'img' : 'fa';
                    
                    quickLinks.push({ 
                        id: Date.now(), 
                        name, 
                        url, 
                        icon, 
                        type, 
                        custom: true 
                    });
                    saveData('customLinks', quickLinks.filter(link => link.custom));
                    
                    document.getElementById('new-link-name').value = '';
                    document.getElementById('new-link-url').value = '';
                    document.getElementById('new-link-icon').value = '';
                    
                    renderQuickLinks();
                    renderCustomLinksList();
                    showStatusMessage('å¿«æ·é“¾æ¥å·²æ·»åŠ ');
                } else {
                    showStatusMessage('è¯·å¡«å†™å®Œæ•´çš„é“¾æ¥ä¿¡æ¯', 5000);
                }
            });
            
            // æ·»åŠ éšæœºæ–‡æœ¬
            document.getElementById('add-quote-btn').addEventListener('click', () => {
                const text = document.getElementById('new-quote-text').value.trim();
                
                if (text) {
                    quotes.push({ id: Date.now(), text });
                    saveData('customQuotes', quotes);
                    
                    document.getElementById('new-quote-text').value = '';
                    renderCustomQuotesList();
                    showStatusMessage('æ–‡æœ¬å·²æ·»åŠ ');
                } else {
                    showStatusMessage('è¯·è¾“å…¥æ–‡æœ¬å†…å®¹', 5000);
                }
            });
            
            // æ›´æ–°èƒŒæ™¯å›¾ç‰‡
            document.getElementById('update-bg-btn').addEventListener('click', () => changeBackground(true));
            
            // åœæ­¢/å¼€å§‹èƒŒæ™¯åˆ‡æ¢
            document.getElementById('stop-bg-btn').addEventListener('click', () => {
                clearInterval(bgInterval);
                bgSwitching = false;
                document.getElementById('bg-toggle-btn').classList.remove('btn-success');
                document.getElementById('bg-toggle-btn').classList.add('btn-danger');
                document.getElementById('bg-toggle-btn').innerHTML = '<i class="fas fa-stop"></i> åˆ‡æ¢å·²åœæ­¢';
                showStatusMessage('èƒŒæ™¯åˆ‡æ¢å·²åœæ­¢');
            });
            
            document.getElementById('bg-toggle-btn').addEventListener('click', function() {
                if (bgSwitching) {
                    clearInterval(bgInterval);
                    bgSwitching = false;
                    this.classList.remove('btn-success');
                    this.classList.add('btn-danger');
                    this.innerHTML = '<i class="fas fa-stop"></i> åˆ‡æ¢å·²åœæ­¢';
                    showStatusMessage('èƒŒæ™¯åˆ‡æ¢å·²åœæ­¢');
                } else {
                    const seconds = document.getElementById('bg-change').value;
                    bgInterval = setInterval(() => changeBackground(false), seconds * 1000);
                    bgSwitching = true;
                    this.classList.remove('btn-danger');
                    this.classList.add('btn-success');
                    this.innerHTML = '<i class="fas fa-play"></i> åˆ‡æ¢èƒŒæ™¯';
                    showStatusMessage('èƒŒæ™¯åˆ‡æ¢å·²å¯åŠ¨');
                }
            });
            
            // åˆ‡æ¢æ–‡æœ¬æ˜¾ç¤º
            toggleTextBtn.addEventListener('click', function() {
                textVisible = !textVisible;
                this.classList.toggle('active', textVisible);
                randomTextElement.style.display = textVisible ? 'flex' : 'none';
                saveData('showText', textVisible);
                if (textVisible) {
                    showStatusMessage('æ–‡æœ¬å·²æ˜¾ç¤º');
                    updateRandomText();
                } else {
                    showStatusMessage('æ–‡æœ¬å·²éšè—');
                }
            });
            
            // åˆ‡æ¢æœç´¢æ æ˜¾ç¤º
            toggleSearchBtn.addEventListener('click', function() {
                searchVisible = !searchVisible;
                this.classList.toggle('active', searchVisible);
                updateVisibility();
                showStatusMessage(searchVisible ? 'æœç´¢æ å·²æ˜¾ç¤º' : 'æœç´¢æ å·²éšè—');
            });
            
            // åˆ‡æ¢å¿«æ·é“¾æ¥æ˜¾ç¤º
            toggleLinksBtn.addEventListener('click', function() {
                linksVisible = !linksVisible;
                this.classList.toggle('active', linksVisible);
                updateVisibility();
                showStatusMessage(linksVisible ? 'å¿«æ·é“¾æ¥å·²æ˜¾ç¤º' : 'å¿«æ·é“¾æ¥å·²éšè—');
            });
            
            // åˆå§‹æ›´æ–°æ˜¾ç¤ºè®¾ç½®
            updateVisibility();
            
            // æ¸²æŸ“åˆå§‹åˆ—è¡¨
            renderSearchEngineSelector();
            renderCustomEnginesList();
            renderQuickLinks();
            renderCustomLinksList();
            renderCustomQuotesList();
        }
        
        // äº‹ä»¶ç›‘å¬
        fullscreenBtn.addEventListener('click', toggleFullscreen);
        settingsBtn.addEventListener('click', toggleSettings);
        closeSettingsBtn.addEventListener('click', toggleSettings);
        
        // æœç´¢åŠŸèƒ½
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const engineElement = document.querySelector('.animation-option[data-engine].active');
                if (!engineElement) return;
                
                const engineName = engineElement.dataset.engine;
                const engine = searchEngines.find(e => e.name === engineName);
                
                if (engine) {
                    const query = encodeURIComponent(searchInput.value);
                    const url = engine.url.replace('{query}', query);
                    window.open(url, '_blank');
                    searchInput.value = '';
                }
            }
        });
        
        // é€€å‡ºå…¨å±æ—¶æ˜¾ç¤ºæŒ‰é’®
        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement) {
                fullscreenBtn.style.display = 'flex';
            }
        });
        
        // ç¼–è¾‘æ¨¡æ€æ¡†äº‹ä»¶
        closeEditModal.addEventListener('click', closeEditModalFunc);
        cancelEditBtn.addEventListener('click', closeEditModalFunc);
        saveEditBtn.addEventListener('click', saveEdit);
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', (e) => {
            if (e.target === editModal) {
                closeEditModalFunc();
            }
        });
        
        // æ»šåŠ¨äº‹ä»¶
        window.addEventListener('scroll', () => {
            scrollPosition = window.scrollY;
            // å½“ç”¨æˆ·æ»šåŠ¨æ—¶éšè—æ»šåŠ¨æç¤º
            if (scrollPosition > 50) {
                scrollHint.style.opacity = '0';
            } else {
                scrollHint.style.opacity = '0.7';
            }
        });
        
        // åˆå§‹åŒ–
        updateDateTime();
        updateRandomText();
        changeBackground(false);
        initSettings();
        
        // è®¾ç½®å®šæ—¶å™¨
        setInterval(updateDateTime, 1000);
        textInterval = setInterval(updateRandomText, 10000);
        bgInterval = setInterval(() => changeBackground(false), 30000);
    </script>
</body>
</html>
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.9));
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.5s ease;
        }
        
        /* é¡¶éƒ¨æ§åˆ¶æŒ‰é’® */
        .controls {
            display: flex;
            justify-content: flex-end;
            padding: 20px;
            position: absolute;
            top: 0;
            right: 0;
            z-index: 100;
        }
        
        .btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-left: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .btn i {
            font-size: 18px;
        }
        
        /* ä¸­å¤®åŒºåŸŸ - æ—¶é—´å’Œéšæœºæ–‡æœ¬ */
        .center-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            width: 100%;
            margin-top: 5vh;
        }
        
        .time-display {
            font-size: 8vw;
            font-weight: 300;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            margin-bottom: 10px;
            transition: all 0.5s ease;
        }
        
        .date-display {
            font-size: 2.5vw;
            font-weight: 300;
            opacity: 0.8;
            margin-bottom: 30px;
            transition: all 0.5s ease;
        }
        
        /* éšæœºæ–‡å­—åŒºåŸŸ */
        .random-text-container {
            max-width: 90%;
            margin: 0 auto;
            text-align: center;
            min-height: 80px;
            display: flex;
            justify-content: center;
            width: 100%;
            margin-bottom: 30px;
        }
        
        .random-text {
            font-size: 1.8rem;
            font-weight: 300;
            opacity: 0.9;
            transition: all 0.5s ease;
            max-width: 95%;
            word-wrap: break-word;
            line-height: 1.5;
            padding: 15px 25px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        /* å†…å®¹åŒºåŸŸ - å¯æ»šåŠ¨ */
        .content-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-height: 50vh;
            overflow-y: auto;
            transition: all 0.5s ease;
            padding: 20px 0;
            opacity: 1;
            transform: translateY(0);
            margin-top: 5vh;
        }
        
        .content-container.hidden {
            opacity: 0;
            transform: translateY(20px);
            max-height: 0;
            padding: 0;
            overflow: hidden;
            margin-top: 0;
        }
        
        /* æœç´¢åŒºåŸŸ */
        .search-container {
            max-width: 600px;
            width: 100%;
            margin: 0 auto 40px;
            position: relative;
            transition: all 0.5s ease;
        }
        
        .search-box {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1.1rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .search-box:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }
        
        /* å¿«æ·é“¾æ¥åŒºåŸŸ */
        .quick-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            max-height: 35vh;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255,255,255,0.2) transparent;
            transition: all 0.5s ease;
        }
        
        .quick-links::-webkit-scrollbar {
            width: 8px;
        }
        
        .quick-links::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
        }
        
        .link-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            flex: 0 0 calc(20% - 20px);
            min-width: 100px;
            max-width: 120px;
        }
        
        .link-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .link-item .icon-container {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .link-item .icon-container i {
            font-size: 24px;
        }
        
        .link-item .icon-container img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 50%;
        }
        
        .link-item span {
            font-size: 0.9rem;
        }
        
        .delete-link {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: rgba(255, 0, 0, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
        }
        
        .link-item:hover .delete-link {
            opacity: 1;
        }
        
        .edit-link {
            position: absolute;
            top: -5px;
            left: -5px;
            width: 20px;
            height: 20px;
            background: rgba(0, 123, 255, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
            cursor: pointer;
        }
        
        .link-item:hover .edit-link {
            opacity: 1;
        }
        
        /* è®¾ç½®é¢æ¿ */
        .settings-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 380px;
            height: 100vh;
            background: rgba(30, 30, 40, 0.95);
            backdrop-filter: blur(20px);
            padding: 30px;
            z-index: 200;
            overflow-y: auto;
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.5);
        }
        
        .settings-panel.open {
            right: 0;
        }
        
        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .settings-header h2 {
            font-weight: 400;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .settings-group {
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .settings-group h3 {
            font-weight: 400;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .settings-group h3 i {
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        .color-picker {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .color-option.active {
            border-color: white;
            transform: scale(1.1);
        }
        
        .font-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .font-option {
            padding: 8px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .font-option.active {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .animation-selector {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .animation-option {
            padding: 12px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .animation-option.active {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .slider-container {
            margin: 15px 0;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.95rem;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .form-control:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .btn-primary {
            background: #4a6cf7;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 500;
        }
        
        .btn-primary:hover {
            background: #3a5ce0;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-sm {
            padding: 8px 12px;
            font-size: 0.85rem;
        }
        
        .btn-danger {
            background: #ff4757;
        }
        
        .btn-success {
            background: #2ed573;
        }
        
        .custom-items-list {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .custom-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            margin-bottom: 8px;
        }
        
        .custom-item:last-child {
            margin-bottom: 0;
        }
        
        .custom-item .actions {
            display: flex;
            gap: 5px;
        }
        
        .btn-icon {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-icon:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .fade-in {
            animation: fadeIn 1.5s ease-in-out forwards;
        }
        
        .slide-up {
            animation: slideUp 1s ease-out forwards;
        }
        
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            animation: 
                typewriter 4s steps(40, end),
                blink-caret 0.75s step-end infinite;
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #fff; }
        }
        
        .fade-out {
            animation: fadeIn 1.5s ease-in-out reverse forwards;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .time-display {
                font-size: 12vw;
            }
            
            .date-display {
                font-size: 4vw;
            }
            
            .random-text {
                font-size: 1.4rem;
            }
            
            .settings-panel {
                width: 100%;
                right: -100%;
            }
            
            .quick-links {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .link-item {
                flex: 0 0 calc(33% - 20px);
            }
        }
        
        /* çŠ¶æ€æç¤º */
        .status-message {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            z-index: 1000;
            animation: fadeIn 0.5s ease-in-out;
            display: none;
        }
        
        /* èƒŒæ™¯åŠ è½½æŒ‡ç¤ºå™¨ */
        .bg-loader {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            z-index: 1000;
            display: none;
        }
        
        /* ç¼–è¾‘æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 300;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: rgba(40, 40, 50, 0.95);
            border-radius: 15px;
            padding: 25px;
            width: 90%;
            max-width: 500px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-title {
            font-size: 1.3rem;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* æ»šåŠ¨æç¤º */
        .scroll-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.6);
            font-size: 1.2rem;
            animation: bounce 2s infinite;
            opacity: 0.7;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateX(-50%) translateY(0);}
            40% {transform: translateX(-50%) translateY(-15px);}
            60% {transform: translateX(-50%) translateY(-7px);}
        }
        
        /* æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® */
        .visibility-control {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 15px;
        }
        
        .visibility-control:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .toggle-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 20px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            position: relative;
            cursor: pointer;
        }
        
        .toggle-btn.active {
            background: #4a6cf7;
        }
        
        .toggle-btn::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            transition: all 0.3s ease;
            left: 2px;
        }
        
        .toggle-btn.active::before {
            left: calc(100% - 18px);
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯å±‚ -->
    <div id="background-overlay"></div>
    
    <!-- èƒŒæ™¯åŠ è½½æŒ‡ç¤ºå™¨ -->
    <div class="bg-loader" id="bg-loader">
        <i class="fas fa-sync fa-spin"></i> æ­£åœ¨åŠ è½½èƒŒæ™¯...
    </div>
    
    <!-- çŠ¶æ€æç¤º -->
    <div class="status-message" id="status-message"></div>
    
    <div class="container">
        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="controls">
            <button class="btn" id="fullscreen-btn" title="å…¨å±">
                <i class="fas fa-expand"></i>
            </button>
            <button class="btn" id="settings-btn" title="è®¾ç½®">
                <i class="fas fa-cog"></i>
            </button>
        </div>
        
        <!-- ä¸­å¤®åŒºåŸŸ - æ—¶é—´æ—¥æœŸå’Œéšæœºæ–‡æœ¬ -->
        <div class="center-container">
            <div class="time-display" id="time">00:00:00</div>
            <div class="date-display" id="date">2023å¹´1æœˆ1æ—¥ æ˜ŸæœŸä¸€</div>
            
            <!-- éšæœºæ–‡å­— -->
            <div class="random-text-container">
                <div class="random-text" id="random-text">ç”Ÿæ´»å°±åƒéª‘è‡ªè¡Œè½¦ï¼Œä¸ºäº†ä¿æŒå¹³è¡¡ï¼Œä½ å¿…é¡»ä¸æ–­å‰è¿›</div>
            </div>
        </div>
        
        <!-- æ»šåŠ¨æç¤º -->
        <div class="scroll-hint" id="scroll-hint">
            <i class="fas fa-chevron-down"></i>
        </div>
        
        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="content-container" id="content-container">
            <!-- æœç´¢æ¡† -->
            <div class="search-container" id="search-container">
                <input type="text" class="search-box" placeholder="æœç´¢äº’è”ç½‘..." id="search-input">
            </div>
            
            <!-- å¿«æ·é“¾æ¥ -->
            <div class="quick-links" id="quick-links">
                <!-- å¿«æ·é“¾æ¥å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>
    
    <!-- è®¾ç½®é¢æ¿ -->
    <div class="settings-panel" id="settings-panel">
        <div class="settings-header">
            <h2>ä»ªè¡¨ç›˜è®¾ç½®</h2>
            <button class="close-btn" id="close-settings">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-clock"></i> æ—¶é—´æ˜¾ç¤ºè®¾ç½®</h3>
            
            <div class="color-picker">
                <div class="color-option active" style="background: #ffffff;" data-color="#ffffff"></div>
                <div class="color-option" style="background: #ff6b6b;" data-color="#ff6b6b"></div>
                <div class="color-option" style="background: #4ecdc4;" data-color="#4ecdc4"></div>
                <div class="color-option" style="background: #ffe66d;" data-color="#ffe66d"></div>
                <div class="color-option" style="background: #ff9f68;" data-color="#ff9f68"></div>
                <div class="color-option" style="background: #9b5de5;" data-color="#9b5de5"></div>
                <div class="color-option" style="background: #00bbf9;" data-color="#00bbf9"></div>
                <div class="color-option" style="background: #00f5d4;" data-color="#00f5d4"></div>
            </div>
            
            <div class="font-selector">
                <div class="font-option active" data-font="Segoe UI">é»˜è®¤</div>
                <div class="font-option" data-font="Arial">Arial</div>
                <div class="font-option" data-font="Georgia">Georgia</div>
                <div class="font-option" data-font="Courier New">Courier</div>
                <div class="font-option" data-font="Impact">Impact</div>
                <div class="font-option" data-font="Times New Roman">Times</div>
                <div class="font-option" data-font="Verdana">Verdana</div>
                <div class="font-option" data-font="Comic Sans MS">Comic</div>
            </div>
            
            <div class="slider-container">
                <label for="time-size">æ—¶é—´å­—ä½“å¤§å°: <span id="time-size-value">8vw</span></label>
                <input type="range" id="time-size" min="5" max="15" value="8" step="0.5">
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-font"></i> æ–‡å­—åŠ¨ç”»æ•ˆæœ</h3>
            
            <div class="animation-selector">
                <div class="animation-option active" data-animation="fadeIn">æ·¡å…¥æ•ˆæœ</div>
                <div class="animation-option" data-animation="slideUp">ä¸Šæµ®æ•ˆæœ</div>
                <div class="animation-option" data-animation="typewriter">æ‰“å­—æœºæ•ˆæœ</div>
                <div class="animation-option" data-animation="fade-out">æ·¡å‡ºæ•ˆæœ</div>
            </div>
            
            <div class="slider-container">
                <label for="text-change">æ–‡å­—åˆ‡æ¢é—´éš”: <span id="text-change-value">10</span> ç§’</label>
                <input type="range" id="text-change" min="5" max="30" value="10">
            </div>
            
            <!-- éšæœºæ–‡æœ¬æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® -->
            <div class="visibility-control">
                <span>æ˜¾ç¤ºéšæœºæ–‡æœ¬</span>
                <div class="toggle-btn active" id="toggle-text-btn">
                    <span class="toggle-switch"></span>
                </div>
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-search"></i> æœç´¢å¼•æ“è®¾ç½®</h3>
            
            <div class="animation-selector" id="search-engine-selector">
                <!-- æœç´¢å¼•æ“é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- æœç´¢æ æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® -->
            <div class="visibility-control">
                <span>æ˜¾ç¤ºæœç´¢æ </span>
                <div class="toggle-btn active" id="toggle-search-btn">
                    <span class="toggle-switch"></span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="new-engine-name">æ·»åŠ è‡ªå®šä¹‰æœç´¢å¼•æ“</label>
                <input type="text" class="form-control" id="new-engine-name" placeholder="æœç´¢å¼•æ“åç§°">
            </div>
            
            <div class="form-group">
                <input type="text" class="form-control" id="new-engine-url" placeholder="æœç´¢URL (ä½¿ç”¨{query}ä½œä¸ºæœç´¢è¯)">
            </div>
            
            <button class="btn-primary" id="add-engine-btn">
                <i class="fas fa-plus"></i> æ·»åŠ æœç´¢å¼•æ“
            </button>
            
            <div class="custom-items-list" id="custom-engines-list">
                <!-- è‡ªå®šä¹‰æœç´¢å¼•æ“åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-link"></i> å¿«æ·é“¾æ¥è®¾ç½®</h3>
            
            <!-- å¿«æ·é“¾æ¥æ˜¾ç¤ºæ§åˆ¶æŒ‰é’® -->
            <div class="visibility-control">
                <span>æ˜¾ç¤ºå¿«æ·é“¾æ¥</span>
                <div class="toggle-btn active" id="toggle-links-btn">
                    <span class="toggle-switch"></span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="new-link-name">é“¾æ¥åç§°</label>
                <input type="text" class="form-control" id="new-link-name" placeholder="ä¾‹å¦‚: GitHub">
            </div>
            
            <div class="form-group">
                <label for="new-link-url">é“¾æ¥åœ°å€</label>
                <input type="text" class="form-control" id="new-link-url" placeholder="https://example.com">
            </div>
            
            <div class="form-group">
                <label for="new-link-icon">å›¾æ ‡ (Font Awesomeç±»åæˆ–å›¾ç‰‡URL)</label>
                <input type="text" class="form-control" id="new-link-icon" placeholder="ä¾‹å¦‚: fab fa-github æˆ– https://example.com/icon.png">
            </div>
            
            <button class="btn-primary" id="add-link-btn">
                <i class="fas fa-plus"></i> æ·»åŠ å¿«æ·é“¾æ¥
            </button>
            
            <div class="custom-items-list" id="custom-links-list">
                <!-- è‡ªå®šä¹‰é“¾æ¥åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-quote-right"></i> éšæœºæ–‡æœ¬è®¾ç½®</h3>
            
            <div class="form-group">
                <label for="new-quote-text">æ·»åŠ è‡ªå®šä¹‰æ–‡æœ¬</label>
                <textarea class="form-control" id="new-quote-text" placeholder="è¾“å…¥æ‚¨å–œæ¬¢çš„åè¨€æˆ–å¥å­..." rows="3"></textarea>
            </div>
            
            <button class="btn-primary" id="add-quote-btn">
                <i class="fas fa-plus"></i> æ·»åŠ æ–‡æœ¬
            </button>
            
            <div class="custom-items-list" id="custom-quotes-list">
                <!-- è‡ªå®šä¹‰æ–‡æœ¬åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
        
        <div class="settings-group">
            <h3><i class="fas fa-image"></i> èƒŒæ™¯è®¾ç½®</h3>
            
            <div class="form-group">
                <label for="bg-api">èƒŒæ™¯å›¾ç‰‡API</label>
                <input type="text" class="form-control" id="bg-api" value="https://source.unsplash.com/random/1920x1080/?nature" placeholder="è¾“å…¥èƒŒæ™¯å›¾ç‰‡API">
            </div>
            
            <div class="slider-container">
                <label for="bg-change">èƒŒæ™¯åˆ‡æ¢é—´éš”: <span id="bg-change-value">30</span> ç§’</label>
                <input type="range" id="bg-change" min="10" max="120" value="30">
            </div>
            
            <div class="btn-group">
                <button class="btn-primary btn-sm" id="update-bg-btn">
                    <i class="fas fa-sync"></i> æ›´æ–°èƒŒæ™¯
                </button>
                <button class="btn-primary btn-sm btn-success" id="bg-toggle-btn">
                    <i class="fas fa-play"></i> åˆ‡æ¢èƒŒæ™¯
                </button>
                <button class="btn-primary btn-sm btn-danger" id="stop-bg-btn">
                    <i class="fas fa-stop"></i> åœæ­¢åˆ‡æ¢
                </button>
            </div>
        </div>
    </div>
    
    <!-- ç¼–è¾‘æ¨¡æ€æ¡† -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="edit-modal-title">ç¼–è¾‘é¡¹ç›®</h3>
                <button class="modal-close" id="close-edit-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="edit-form-container">
                    <!-- ç¼–è¾‘è¡¨å•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="save-edit-btn">ä¿å­˜æ›´æ”¹</button>
                <button class="btn-primary btn-danger" id="cancel-edit-btn">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <script>
        // è·å–DOMå…ƒç´ 
        const timeElement = document.getElementById('time');
        const dateElement = document.getElementById('date');
        const randomTextElement = document.getElementById('random-text');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        const closeSettingsBtn = document.getElementById('close-settings');
        const searchInput = document.getElementById('search-input');
        const quickLinksContainer = document.getElementById('quick-links');
        const statusMessage = document.getElementById('status-message');
        const bgLoader = document.getElementById('bg-loader');
        const toggleTextBtn = document.getElementById('toggle-text-btn');
        const toggleSearchBtn = document.getElementById('toggle-search-btn');
        const toggleLinksBtn = document.getElementById('toggle-links-btn');
        const editModal = document.getElementById('edit-modal');
        const closeEditModal = document.getElementById('close-edit-modal');
        const cancelEditBtn = document.getElementById('cancel-edit-btn');
        const saveEditBtn = document.getElementById('save-edit-btn');
        const editFormContainer = document.getElementById('edit-form-container');
        const contentContainer = document.getElementById('content-container');
        const scrollHint = document.getElementById('scroll-hint');
        const searchContainer = document.getElementById('search-container');
        
        // çŠ¶æ€å˜é‡
        let bgInterval;
        let bgSwitching = true;
        let textInterval;
        let textVisible = true;
        let searchVisible = true;
        let linksVisible = true;
        let currentEditItem = null;
        let currentEditType = null;
        let currentEditIndex = null;
        let scrollPosition = 0;
        
        // åˆå§‹åŒ–æ•°æ®
        let quotes = [
            {id: 1, text: "ç”Ÿæ´»å°±åƒéª‘è‡ªè¡Œè½¦ï¼Œä¸ºäº†ä¿æŒå¹³è¡¡ï¼Œä½ å¿…é¡»ä¸æ–­å‰è¿›"},
            {id: 2, text: "æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼Œçæƒœå½“ä¸‹"},
            {id: 3, text: "æˆåŠŸä¸æ˜¯ç»ˆç‚¹ï¼Œå¤±è´¥ä¸æ˜¯ç»ˆç»“ï¼Œå‹‡æ°”æ‰æ˜¯æ°¸æ’"},
            {id: 4, text: "æ¢¦æƒ³ä¸ä¼šå‘å…‰ï¼Œå‘å…‰çš„æ˜¯è¿½æ¢¦çš„äºº"},
            {id: 5, text: "æœ€å¥½çš„æ—¶å…‰å°±æ˜¯ç°åœ¨"},
            {id: 6, text: "ç®€å•çš„äº‹æƒ…é‡å¤åšï¼Œä½ å°±æ˜¯ä¸“å®¶ï¼›é‡å¤çš„äº‹æƒ…ç”¨å¿ƒåšï¼Œä½ å°±æ˜¯èµ¢å®¶"},
            {id: 7, text: "è¡ŒåŠ¨æ˜¯æ²»æ„ˆææƒ§çš„è‰¯è¯ï¼Œè€ŒçŠ¹è±«æ‹–å»¶å°†ä¸æ–­æ»‹å…»ææƒ§"},
            {id: 8, text: "åªæœ‰ä¸æ–­è¶…è¶Šè‡ªæˆ‘ï¼Œæ‰èƒ½æˆå°±éå‡¡"},
            {id: 9, text: "ç”Ÿå‘½ä¸æ˜¯è¦è¶…è¶Šåˆ«äººï¼Œè€Œæ˜¯è¦è¶…è¶Šè‡ªå·±"},
            {id: 10, text: "ä¸è¦ç­‰å¾…æœºä¼šï¼Œè€Œè¦åˆ›é€ æœºä¼š"}
        ];
        
        let searchEngines = [
            { name: "Google", url: "https://www.google.com/search?q={query}" },
            { name: "Bing", url: "https://www.bing.com/search?q={query}" },
            { name: "DuckDuckGo", url: "https://duckduckgo.com/?q={query}" },
            { name: "ç™¾åº¦", url: "https://www.baidu.com/s?wd={query}" }
        ];
        
        let quickLinks = [
            { id: 1, name: "GitHub", url: "https://github.com", icon: "fab fa-github", type: "fa" },
            { id: 2, name: "Gmail", url: "https://gmail.com", icon: "fas fa-envelope", type: "fa" },
            { id: 3, name: "YouTube", url: "https://youtube.com", icon: "fab fa-youtube", type: "fa" },
            { id: 4, name: "Twitter", url: "https://twitter.com", icon: "fab fa-twitter", type: "fa" },
            { id: 5, name: "Reddit", url: "https://reddit.com", icon: "fab fa-reddit", type: "fa" },
            { id: 6, name: "Spotify", url: "https://spotify.com", icon: "fab fa-spotify", type: "fa" },
            { id: 7, name: "Netflix", url: "https://netflix.com", icon: "fas fa-film", type: "fa" },
            { id: 8, name: "Amazon", url: "https://amazon.com", icon: "fab fa-amazon", type: "fa" }
        ];
        
        // æ˜¾ç¤ºçŠ¶æ€æ¶ˆæ¯
        function showStatusMessage(message, duration = 3000) {
            statusMessage.textContent = message;
            statusMessage.style.display = 'block';
            setTimeout(() => {
                statusMessage.style.display = 'none';
            }, duration);
        }
        
        // ä»localStorageåŠ è½½æ•°æ®
        function loadData() {
            const savedQuotes = localStorage.getItem('customQuotes');
            const savedEngines = localStorage.getItem('customEngines');
            const savedLinks = localStorage.getItem('customLinks');
            const showSearch = localStorage.getItem('showSearch');
            const showLinks = localStorage.getItem('showLinks');
            const showText = localStorage.getItem('showText');
            
            if (savedQuotes) {
                const customQuotes = JSON.parse(savedQuotes);
                quotes = [...quotes, ...customQuotes];
            }
            
            if (savedEngines) {
                searchEngines = searchEngines.concat(JSON.parse(savedEngines));
            }
            
            if (savedLinks) {
                const customLinks = JSON.parse(savedLinks);
                quickLinks = [...quickLinks, ...customLinks];
            }
            
            if (showSearch !== null) {
                searchVisible = showSearch === 'true';
                toggleSearchBtn.classList.toggle('active', searchVisible);
                updateVisibility();
            }
            
            if (showLinks !== null) {
                linksVisible = showLinks === 'true';
                toggleLinksBtn.classList.toggle('active', linksVisible);
                updateVisibility();
            }
            
            if (showText !== null) {
                textVisible = showText === 'true';
                toggleTextBtn.classList.toggle('active', textVisible);
                randomTextElement.style.display = textVisible ? 'flex' : 'none';
            }
        }
        
        // ä¿å­˜æ•°æ®åˆ°localStorage
        function saveData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }
        
        // æ›´æ–°æ—¶é—´å’Œæ—¥æœŸ
        function updateDateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            
            const days = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
            const day = days[now.getDay()];
            const date = `${now.getFullYear()}å¹´${now.getMonth() + 1}æœˆ${now.getDate()}æ—¥`;
            
            timeElement.textContent = `${hours}:${minutes}:${seconds}`;
            dateElement.textContent = `${date} ${day}`;
        }
        
        // æ›´æ–°éšæœºæ–‡æœ¬
        function updateRandomText() {
            if (!textVisible) return;
            
            const randomIndex = Math.floor(Math.random() * quotes.length);
            const newText = quotes[randomIndex].text;
            const animation = randomTextElement.dataset.animation || 'fadeIn';
            
            // æ·»åŠ ç¦»å¼€åŠ¨ç”»
            randomTextElement.classList.add('fade-out');
            
            setTimeout(() => {
                randomTextElement.textContent = newText;
                randomTextElement.className = 'random-text';
                
                // ç‰¹æ®Šå¤„ç†æ‰“å­—æœºæ•ˆæœ
                if (animation === 'typewriter') {
                    randomTextElement.classList.add('typewriter');
                    // æ‰“å­—æœºæ•ˆæœç»“æŸåæ¢å¤æ­£å¸¸
                    setTimeout(() => {
                        randomTextElement.classList.remove('typewriter');
                    }, 4000);
                } else {
                    // æ·»åŠ å…¶ä»–è¿›å…¥åŠ¨ç”»
                    setTimeout(() => {
                        randomTextElement.classList.add(animation);
                    }, 50);
                }
            }, 500);
        }
        
        // å…¨å±åŠŸèƒ½
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.error(`å…¨å±è¯·æ±‚é”™è¯¯: ${err.message}`);
                });
                fullscreenBtn.style.display = 'none';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                fullscreenBtn.style.display = 'flex';
            }
        }
        
        // è®¾ç½®é¢æ¿æ§åˆ¶
        function toggleSettings() {
            settingsPanel.classList.toggle('open');
        }
        
        // åˆ‡æ¢èƒŒæ™¯ - ä½¿ç”¨CSSåŠ è½½å›¾ç‰‡
        function changeBackground(showNotification = false) {
            const bgApi = document.getElementById('bg-api').value || 'https://source.unsplash.com/random/1920x1080/?nature';
            
            // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
            bgLoader.style.display = 'flex';
            
            // æ·»åŠ æ—¶é—´æˆ³é˜²æ­¢ç¼“å­˜
            const timestamp = new Date().getTime();
            const bgUrl = `${bgApi}${bgApi.includes('?') ? '&' : '?'}t=${timestamp}`;
            
            // ä½¿ç”¨CSSè®¾ç½®èƒŒæ™¯
            const bgImg = new Image();
            bgImg.onload = function() {
                document.body.style.backgroundImage = `url(${bgUrl})`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundPosition = 'center';
                bgLoader.style.display = 'none';
                if (showNotification) {
                    showStatusMessage('èƒŒæ™¯å·²æ›´æ–°');
                }
            };
            bgImg.onerror = function() {
                console.error('èƒŒæ™¯å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤èƒŒæ™¯');
                document.body.style.background = 'linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c)';
                bgLoader.style.display = 'none';
                if (showNotification) {
                    showStatusMessage('èƒŒæ™¯åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤èƒŒæ™¯', 5000);
                }
            };
            bgImg.src = bgUrl;
        }
        
        // æ›´æ–°æ˜¾ç¤ºè®¾ç½®
        function updateVisibility() {
            // æœç´¢æ 
            searchContainer.style.display = searchVisible ? 'block' : 'none';
            
            // å¿«æ·é“¾æ¥
            quickLinksContainer.style.display = linksVisible ? 'flex' : 'none';
            
            // æ•´ä¸ªå†…å®¹åŒºåŸŸ
            if (searchVisible || linksVisible) {
                contentContainer.classList.remove('hidden');
                scrollHint.style.display = 'block';
            } else {
                contentContainer.classList.add('hidden');
                scrollHint.style.display = 'none';
            }
            
            // ä¿å­˜è®¾ç½®
            localStorage.setItem('showSearch', searchVisible);
            localStorage.setItem('showLinks', linksVisible);
            localStorage.setItem('showText', textVisible);
        }
        
        // æ¸²æŸ“æœç´¢å¼•æ“é€‰æ‹©å™¨
        function renderSearchEngineSelector() {
            const container = document.getElementById('search-engine-selector');
            container.innerHTML = '';
            
            searchEngines.forEach(engine => {
                const option = document.createElement('div');
                option.className = 'animation-option';
                if (engine.default) option.classList.add('active');
                option.dataset.engine = engine.name;
                option.textContent = engine.name;
                
                option.addEventListener('click', () => {
                    document.querySelectorAll('.animation-option[data-engine]').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                });
                
                container.appendChild(option);
            });
        }
        
        // æ¸²æŸ“è‡ªå®šä¹‰æœç´¢å¼•æ“åˆ—è¡¨
        function renderCustomEnginesList() {
            const container = document.getElementById('custom-engines-list');
            container.innerHTML = '';
            
            const customEngines = searchEngines.filter(engine => !engine.default);
            
            if (customEngines.length === 0) {
                container.innerHTML = '<p class="custom-item">æš‚æ— è‡ªå®šä¹‰æœç´¢å¼•æ“</p>';
                return;
            }
            
            customEngines.forEach((engine, index) => {
                const item = document.createElement('div');
                item.className = 'custom-item';
                item.innerHTML = `
                    <span>${engine.name}</span>
                    <div class="actions">
                        <button class="btn-icon delete-engine" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-engine').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.delete-engine').dataset.index);
                    searchEngines.splice(index + 4, 1); // ä¿ç•™å‰4ä¸ªé»˜è®¤å¼•æ“
                    saveData('customEngines', searchEngines.filter(engine => !engine.default));
                    renderCustomEnginesList();
                    showStatusMessage('æœç´¢å¼•æ“å·²åˆ é™¤');
                });
            });
        }
        
        // æ¸²æŸ“å¿«æ·é“¾æ¥
        function renderQuickLinks() {
            quickLinksContainer.innerHTML = '';
            
            quickLinks.forEach((link, index) => {
                const item = document.createElement('div');
                item.className = 'link-item';
                item.dataset.url = link.url;
                item.innerHTML = `
                    <div class="icon-container">
                        ${link.type === 'fa' ? 
                            `<i class="${link.icon}"></i>` : 
                            `<img src="${link.icon}" alt="${link.name}">`}
                    </div>
                    <span>${link.name}</span>
                    <div class="delete-link" data-index="${index}">
                        <i class="fas fa-trash"></i>
                    </div>
                    <div class="edit-link" data-index="${index}">
                        <i class="fas fa-edit"></i>
                    </div>
                `;
                
                // ä¿®å¤é“¾æ¥è·³è½¬é—®é¢˜
                item.addEventListener('click', (e) => {
                    // ç¡®ä¿ç‚¹å‡»çš„ä¸æ˜¯åˆ é™¤æˆ–ç¼–è¾‘æŒ‰é’®
                    if (!e.target.closest('.delete-link') && !e.target.closest('.edit-link')) {
                        window.open(link.url, '_blank');
                    }
                });
                
                quickLinksContainer.appendChild(item);
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(e.target.closest('.delete-link').dataset.index);
                    quickLinks.splice(index, 1);
                    
                    // åŒºåˆ†é»˜è®¤é“¾æ¥å’Œè‡ªå®šä¹‰é“¾æ¥
                    if (index >= 8) {
                        saveData('customLinks', quickLinks.slice(8));
                    }
                    
                    renderQuickLinks();
                    renderCustomLinksList();
                    showStatusMessage('é“¾æ¥å·²åˆ é™¤');
                });
            });
            
            // æ·»åŠ ç¼–è¾‘äº‹ä»¶
            document.querySelectorAll('.edit-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const index = parseInt(e.target.closest('.edit-link').dataset.index);
                    openEditLinkModal(index);
                });
            });
        }
        
        // æ‰“å¼€ç¼–è¾‘é“¾æ¥æ¨¡æ€æ¡†
        function openEditLinkModal(index) {
            const link = quickLinks[index];
            currentEditItem = link;
            currentEditType = 'link';
            currentEditIndex = index;
            
            editFormContainer.innerHTML = `
                <div class="form-group">
                    <label for="edit-link-name">é“¾æ¥åç§°</label>
                    <input type="text" class="form-control" id="edit-link-name" value="${link.name}">
                </div>
                <div class="form-group">
                    <label for="edit-link-url">é“¾æ¥åœ°å€</label>
                    <input type="text" class="form-control" id="edit-link-url" value="${link.url}">
                </div>
                <div class="form-group">
                    <label for="edit-link-icon">å›¾æ ‡ (Font Awesomeç±»åæˆ–å›¾ç‰‡URL)</label>
                    <input type="text" class="form-control" id="edit-link-icon" value="${link.icon}">
                </div>
            `;
            
            document.getElementById('edit-modal-title').textContent = 'ç¼–è¾‘é“¾æ¥';
            editModal.style.display = 'flex';
        }
        
        // æ‰“å¼€ç¼–è¾‘æ–‡æœ¬æ¨¡æ€æ¡†
        function openEditQuoteModal(index) {
            const quote = quotes[index];
            currentEditItem = quote;
            currentEditType = 'quote';
            currentEditIndex = index;
            
            editFormContainer.innerHTML = `
                <div class="form-group">
                    <label for="edit-quote-text">æ–‡æœ¬å†…å®¹</label>
                    <textarea class="form-control" id="edit-quote-text" rows="4">${quote.text}</textarea>
                </div>
            `;
            
            document.getElementById('edit-modal-title').textContent = 'ç¼–è¾‘æ–‡æœ¬';
            editModal.style.display = 'flex';
        }
        
        // æ¸²æŸ“è‡ªå®šä¹‰é“¾æ¥åˆ—è¡¨
        function renderCustomLinksList() {
            const container = document.getElementById('custom-links-list');
            container.innerHTML = '';
            
            const customLinks = quickLinks.slice(8);
            
            if (customLinks.length === 0) {
                container.innerHTML = '<p class="custom-item">æš‚æ— è‡ªå®šä¹‰é“¾æ¥</p>';
                return;
            }
            
            customLinks.forEach((link, index) => {
                const item = document.createElement('div');
                item.className = 'custom-item';
                item.innerHTML = `
                    <span>${link.name}</span>
                    <div class="actions">
                        <button class="btn-icon edit-custom-link" data-index="${index + 8}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon delete-custom-link" data-index="${index + 8}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
            
            // æ·»åŠ ç¼–è¾‘äº‹ä»¶
            document.querySelectorAll('.edit-custom-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.edit-custom-link').dataset.index);
                    openEditLinkModal(index);
                });
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-custom-link').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.delete-custom-link').dataset.index);
                    quickLinks.splice(index, 1);
                    saveData('customLinks', quickLinks.slice(8));
                    renderCustomLinksList();
                    renderQuickLinks();
                    showStatusMessage('é“¾æ¥å·²åˆ é™¤');
                });
            });
        }
        
        // æ¸²æŸ“è‡ªå®šä¹‰æ–‡æœ¬åˆ—è¡¨
        function renderCustomQuotesList() {
            const container = document.getElementById('custom-quotes-list');
            container.innerHTML = '';
            
            quotes.forEach((quote, index) => {
                const item = document.createElement('div');
                item.className = 'custom-item';
                item.innerHTML = `
                    <span>${quote.text.substring(0, 50)}${quote.text.length > 50 ? '...' : ''}</span>
                    <div class="actions">
                        <button class="btn-icon edit-custom-quote" data-index="${index}">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon delete-custom-quote" data-index="${index}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.appendChild(item);
            });
            
            // æ·»åŠ ç¼–è¾‘äº‹ä»¶
            document.querySelectorAll('.edit-custom-quote').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.edit-custom-quote').dataset.index);
                    openEditQuoteModal(index);
                });
            });
            
            // æ·»åŠ åˆ é™¤äº‹ä»¶
            document.querySelectorAll('.delete-custom-quote').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.target.closest('.delete-custom-quote').dataset.index);
                    quotes.splice(index, 1);
                    saveData('customQuotes', quotes);
                    renderCustomQuotesList();
                    showStatusMessage('æ–‡æœ¬å·²åˆ é™¤');
                });
            });
        }
        
        // ä¿å­˜ç¼–è¾‘å†…å®¹
        function saveEdit() {
            if (currentEditType === 'link') {
                const name = document.getElementById('edit-link-name').value.trim();
                const url = document.getElementById('edit-link-url').value.trim();
                const icon = document.getElementById('edit-link-icon').value.trim();
                
                if (name && url && icon) {
                    // åˆ¤æ–­æ˜¯Font Awesomeè¿˜æ˜¯å›¾ç‰‡URL
                    const type = icon.startsWith('http') ? 'img' : 'fa';
                    
                    quickLinks[currentEditIndex] = { 
                        ...quickLinks[currentEditIndex], 
                        name, 
                        url, 
                        icon, 
                        type 
                    };
                    
                    // å¦‚æœæ˜¯è‡ªå®šä¹‰é“¾æ¥ï¼Œä¿å­˜åˆ°localStorage
                    if (currentEditIndex >= 8) {
                        saveData('customLinks', quickLinks.slice(8));
                    }
                    
                    renderQuickLinks();
                    renderCustomLinksList();
                    showStatusMessage('é“¾æ¥å·²æ›´æ–°');
                } else {
                    showStatusMessage('è¯·å¡«å†™å®Œæ•´çš„é“¾æ¥ä¿¡æ¯', 5000);
                }
            } 
            else if (currentEditType === 'quote') {
                const text = document.getElementById('edit-quote-text').value.trim();
                
                if (text) {
                    quotes[currentEditIndex].text = text;
                    saveData('customQuotes', quotes);
                    
                    renderCustomQuotesList();
                    showStatusMessage('æ–‡æœ¬å·²æ›´æ–°');
                    
                    // å¦‚æœå½“å‰æ˜¾ç¤ºçš„æ˜¯è¢«ç¼–è¾‘çš„æ–‡æœ¬ï¼Œæ›´æ–°æ˜¾ç¤º
                    if (randomTextElement.textContent === currentEditItem.text) {
                        updateRandomText();
                    }
                } else {
                    showStatusMessage('è¯·è¾“å…¥æ–‡æœ¬å†…å®¹', 5000);
                }
            }
            
            closeEditModalFunc();
        }
        
        // å…³é—­ç¼–è¾‘æ¨¡æ€æ¡†
        function closeEditModalFunc() {
            editModal.style.display = 'none';
            currentEditItem = null;
            currentEditType = null;
            currentEditIndex = null;
        }
        
        // åˆå§‹åŒ–è®¾ç½®
        function initSettings() {
            // åŠ è½½æ•°æ®
            loadData();
            
            // é¢œè‰²é€‰æ‹© - åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    const color = option.dataset.color;
                    
                    // åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬å…ƒç´ 
                    document.querySelectorAll('.time-display, .date-display, .random-text, .search-box, .link-item, .custom-item')
                        .forEach(el => {
                            el.style.color = color;
                        });
                });
            });
            
            // å­—ä½“é€‰æ‹© - åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬
            document.querySelectorAll('.font-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.font-option').forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    const font = option.dataset.font;
                    
                    // åº”ç”¨åˆ°æ‰€æœ‰æ–‡æœ¬å…ƒç´ 
                    document.querySelectorAll('body').forEach(el => {
                        el.style.fontFamily = font;
                    });
                });
            });
            
            // æ—¶é—´å¤§å°è°ƒæ•´
            const timeSizeSlider = document.getElementById('time-size');
            const timeSizeValue = document.getElementById('time-size-value');
            
            timeSizeSlider.addEventListener('input', () => {
                const size = timeSizeSlider.value;
                timeSizeValue.textContent = `${size}vw`;
                timeElement.style.fontSize = `${size}vw`;
            });
            
            // åŠ¨ç”»æ•ˆæœé€‰æ‹©
            document.querySelectorAll('.animation-option').forEach(option => {
                if (option.dataset.animation) {
                    option.addEventListener('click', () => {
                        document.querySelectorAll('.animation-option').forEach(opt => opt.classList.remove('active'));
                        option.classList.add('active');
                        randomTextElement.dataset.animation = option.dataset.animation;
                    });
                }
            });
            
            // æ–‡å­—åˆ‡æ¢é—´éš”
            const textChangeSlider = document.getElementById('text-change');
            const textChangeValue = document.getElementById('text-change-value');
            
            textChangeSlider.addEventListener('input', () => {
                const seconds = textChangeSlider.value;
                textChangeValue.textContent = seconds;
                clearInterval(textInterval);
                textInterval = setInterval(updateRandomText, seconds * 1000);
                showStatusMessage(`æ–‡æœ¬åˆ‡æ¢é—´éš”å·²è®¾ä¸º ${seconds} ç§’`);
            });
            
            // èƒŒæ™¯åˆ‡æ¢é—´éš”
            const bgChangeSlider = document.getElementById('bg-change');
            const bgChangeValue = document.getElementById('bg-change-value');
            
            bgChangeSlider.addEventListener('input', () => {
                const seconds = bgChangeSlider.value;
                bgChangeValue.textContent = seconds;
                if (bgSwitching) {
                    clearInterval(bgInterval);
                    bgInterval = setInterval(() => changeBackground(false), seconds * 1000);
                    showStatusMessage(`èƒŒæ™¯åˆ‡æ¢é—´éš”å·²è®¾ä¸º ${seconds} ç§’`);
                }
            });
            
            // æ·»åŠ æœç´¢å¼•æ“
            document.getElementById('add-engine-btn').addEventListener('click', () => {
                const name = document.getElementById('new-engine-name').value.trim();
                const url = document.getElementById('new-engine-url').value.trim();
                
                if (name && url && url.includes('{query}')) {
                    searchEngines.push({ name, url, custom: true });
                    saveData('customEngines', searchEngines.filter(engine => engine.custom));
                    
                    document.getElementById('new-engine-name').value = '';
                    document.getElementById('new-engine-url').value = '';
                    
                    renderSearchEngineSelector();
                    renderCustomEnginesList();
                    showStatusMessage('æœç´¢å¼•æ“å·²æ·»åŠ ');
                } else {
                    showStatusMessage('è¯·å¡«å†™å®Œæ•´çš„æœç´¢å¼•æ“ä¿¡æ¯ï¼ŒURLå¿…é¡»åŒ…å«{query}', 5000);
                }
            });
            
            // æ·»åŠ å¿«æ·é“¾æ¥
            document.getElementById('add-link-btn').addEventListener('click', () => {
                const name = document.getElementById('new-link-name').value.trim();
                const url = document.getElementById('new-link-url').value.trim();
                const icon = document.getElementById('new-link-icon').value.trim();
                
                if (name && url && icon) {
                    // åˆ¤æ–­æ˜¯Font Awesomeè¿˜æ˜¯å›¾ç‰‡URL
                    const type = icon.startsWith('http') ? 'img' : 'fa';
                    
                    quickLinks.push({ 
                        id: Date.now(), 
                        name, 
                        url, 
                        icon, 
                        type, 
                        custom: true 
                    });
                    saveData('customLinks', quickLinks.filter(link => link.custom));
                    
                    document.getElementById('new-link-name').value = '';
                    document.getElementById('new-link-url').value = '';
                    document.getElementById('new-link-icon').value = '';
                    
                    renderQuickLinks();
                    renderCustomLinksList();
                    showStatusMessage('å¿«æ·é“¾æ¥å·²æ·»åŠ ');
                } else {
                    showStatusMessage('è¯·å¡«å†™å®Œæ•´çš„é“¾æ¥ä¿¡æ¯', 5000);
                }
            });
            
            // æ·»åŠ éšæœºæ–‡æœ¬
            document.getElementById('add-quote-btn').addEventListener('click', () => {
                const text = document.getElementById('new-quote-text').value.trim();
                
                if (text) {
                    quotes.push({ id: Date.now(), text });
                    saveData('customQuotes', quotes);
                    
                    document.getElementById('new-quote-text').value = '';
                    renderCustomQuotesList();
                    showStatusMessage('æ–‡æœ¬å·²æ·»åŠ ');
                } else {
                    showStatusMessage('è¯·è¾“å…¥æ–‡æœ¬å†…å®¹', 5000);
                }
            });
            
            // æ›´æ–°èƒŒæ™¯å›¾ç‰‡
            document.getElementById('update-bg-btn').addEventListener('click', () => changeBackground(true));
            
            // åœæ­¢/å¼€å§‹èƒŒæ™¯åˆ‡æ¢
            document.getElementById('stop-bg-btn').addEventListener('click', () => {
                clearInterval(bgInterval);
                bgSwitching = false;
                document.getElementById('bg-toggle-btn').classList.remove('btn-success');
                document.getElementById('bg-toggle-btn').classList.add('btn-danger');
                document.getElementById('bg-toggle-btn').innerHTML = '<i class="fas fa-stop"></i> åˆ‡æ¢å·²åœæ­¢';
                showStatusMessage('èƒŒæ™¯åˆ‡æ¢å·²åœæ­¢');
            });
            
            document.getElementById('bg-toggle-btn').addEventListener('click', function() {
                if (bgSwitching) {
                    clearInterval(bgInterval);
                    bgSwitching = false;
                    this.classList.remove('btn-success');
                    this.classList.add('btn-danger');
                    this.innerHTML = '<i class="fas fa-stop"></i> åˆ‡æ¢å·²åœæ­¢';
                    showStatusMessage('èƒŒæ™¯åˆ‡æ¢å·²åœæ­¢');
                } else {
                    const seconds = document.getElementById('bg-change').value;
                    bgInterval = setInterval(() => changeBackground(false), seconds * 1000);
                    bgSwitching = true;
                    this.classList.remove('btn-danger');
                    this.classList.add('btn-success');
                    this.innerHTML = '<i class="fas fa-play"></i> åˆ‡æ¢èƒŒæ™¯';
                    showStatusMessage('èƒŒæ™¯åˆ‡æ¢å·²å¯åŠ¨');
                }
            });
            
            // åˆ‡æ¢æ–‡æœ¬æ˜¾ç¤º
            toggleTextBtn.addEventListener('click', function() {
                textVisible = !textVisible;
                this.classList.toggle('active', textVisible);
                randomTextElement.style.display = textVisible ? 'flex' : 'none';
                saveData('showText', textVisible);
                if (textVisible) {
                    showStatusMessage('æ–‡æœ¬å·²æ˜¾ç¤º');
                    updateRandomText();
                } else {
                    showStatusMessage('æ–‡æœ¬å·²éšè—');
                }
            });
            
            // åˆ‡æ¢æœç´¢æ æ˜¾ç¤º
            toggleSearchBtn.addEventListener('click', function() {
                searchVisible = !searchVisible;
                this.classList.toggle('active', searchVisible);
                updateVisibility();
                showStatusMessage(searchVisible ? 'æœç´¢æ å·²æ˜¾ç¤º' : 'æœç´¢æ å·²éšè—');
            });
            
            // åˆ‡æ¢å¿«æ·é“¾æ¥æ˜¾ç¤º
            toggleLinksBtn.addEventListener('click', function() {
                linksVisible = !linksVisible;
                this.classList.toggle('active', linksVisible);
                updateVisibility();
                showStatusMessage(linksVisible ? 'å¿«æ·é“¾æ¥å·²æ˜¾ç¤º' : 'å¿«æ·é“¾æ¥å·²éšè—');
            });
            
            // åˆå§‹æ›´æ–°æ˜¾ç¤ºè®¾ç½®
            updateVisibility();
            
            // æ¸²æŸ“åˆå§‹åˆ—è¡¨
            renderSearchEngineSelector();
            renderCustomEnginesList();
            renderQuickLinks();
            renderCustomLinksList();
            renderCustomQuotesList();
        }
        
        // äº‹ä»¶ç›‘å¬
        fullscreenBtn.addEventListener('click', toggleFullscreen);
        settingsBtn.addEventListener('click', toggleSettings);
        closeSettingsBtn.addEventListener('click', toggleSettings);
        
        // æœç´¢åŠŸèƒ½
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const engineElement = document.querySelector('.animation-option[data-engine].active');
                if (!engineElement) return;
                
                const engineName = engineElement.dataset.engine;
                const engine = searchEngines.find(e => e.name === engineName);
                
                if (engine) {
                    const query = encodeURIComponent(searchInput.value);
                    const url = engine.url.replace('{query}', query);
                    window.open(url, '_blank');
                    searchInput.value = '';
                }
            }
        });
        
        // é€€å‡ºå…¨å±æ—¶æ˜¾ç¤ºæŒ‰é’®
        document.addEventListener('fullscreenchange', () => {
            if (!document.fullscreenElement) {
                fullscreenBtn.style.display = 'flex';
            }
        });
        
        // ç¼–è¾‘æ¨¡æ€æ¡†äº‹ä»¶
        closeEditModal.addEventListener('click', closeEditModalFunc);
        cancelEditBtn.addEventListener('click', closeEditModalFunc);
        saveEditBtn.addEventListener('click', saveEdit);
        
        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', (e) => {
            if (e.target === editModal) {
                closeEditModalFunc();
            }
        });
        
        // æ»šåŠ¨äº‹ä»¶
        window.addEventListener('scroll', () => {
            scrollPosition = window.scrollY;
            // å½“ç”¨æˆ·æ»šåŠ¨æ—¶éšè—æ»šåŠ¨æç¤º
            if (scrollPosition > 50) {
                scrollHint.style.opacity = '0';
            } else {
                scrollHint.style.opacity = '0.7';
            }
        });
        
        // åˆå§‹åŒ–
        updateDateTime();
        updateRandomText();
        changeBackground(false);
        initSettings();
        
        // è®¾ç½®å®šæ—¶å™¨
        setInterval(updateDateTime, 1000);
        textInterval = setInterval(updateRandomText, 10000);
        bgInterval = setInterval(() => changeBackground(false), 30000);
    </script>
</body>
</html>
